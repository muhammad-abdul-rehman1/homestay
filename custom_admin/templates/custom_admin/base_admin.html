<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Admin Panel - HomeStay{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            primary: '#FF385C',
                            secondary: '#E31C5F',
                            hover: '#D11A50'
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-50 text-gray-800 font-sans antialiased">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r border-gray-200 hidden md:flex flex-col">
            <div class="h-16 flex items-center justify-center border-b border-gray-200">
                <a href="{% url 'custom_admin:dashboard' %}" class="flex items-center gap-2">
                    <span class="text-brand-primary font-bold text-xl tracking-tight">HomeStay Admin</span>
                </a>
            </div>
            <nav class="flex-1 overflow-y-auto py-4">
                <ul class="space-y-1 px-2">
                    <li>
                        <a href="{% url 'custom_admin:dashboard' %}"
                            class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition {% if request.resolver_match.url_name == 'dashboard' %}bg-brand-primary text-white hover:bg-brand-primary{% endif %}">
                            <i class="fa-solid fa-gauge"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'custom_admin:user_list' %}"
                            class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition {% if 'users' in request.path %}bg-brand-primary text-white hover:bg-brand-primary{% endif %}">
                            <i class="fa-solid fa-users"></i>
                            <span class="font-medium">Users</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'custom_admin:listing_list' %}"
                            class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition {% if 'listings' in request.path %}bg-brand-primary text-white hover:bg-brand-primary{% endif %}">
                            <i class="fa-solid fa-home"></i>
                            <span class="font-medium">Listings</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'custom_admin:booking_list' %}"
                            class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition {% if 'bookings' in request.path %}bg-brand-primary text-white hover:bg-brand-primary{% endif %}">
                            <i class="fa-solid fa-calendar-check"></i>
                            <span class="font-medium">Bookings</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'custom_admin:payment_list' %}"
                            class="flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-gray-100 transition {% if 'payments' in request.path %}bg-brand-primary text-white hover:bg-brand-primary{% endif %}">
                            <i class="fa-solid fa-credit-card"></i>
                            <span class="font-medium">Payments</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="border-t border-gray-200 p-4">
                <a href="{% url 'logout' %}"
                    class="flex items-center gap-3 px-4 py-3 rounded-xl text-red-600 hover:bg-red-50 transition">
                    <i class="fa-solid fa-right-from-bracket"></i>
                    <span class="font-medium">Logout</span>
                </a>
            </div>
        </aside>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col h-screen overflow-hidden">
            <!-- Header for Mobile -->
            <header class="h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 md:hidden">
                <span class="text-brand-primary font-bold text-lg">Admin Panel</span>
                <button onclick="document.getElementById('mobileSidebar').classList.toggle('hidden')"
                    class="text-gray-600 focus:outline-none">
                    <i class="fa-solid fa-bars text-2xl"></i>
                </button>
            </header>

            <!-- Mobile Sidebar -->
            <div id="mobileSidebar" class="fixed inset-0 bg-gray-800 bg-opacity-75 z-50 hidden md:hidden">
                <div class="bg-white w-64 h-full flex flex-col">
                    <div class="h-16 flex items-center justify-between px-4 border-b border-gray-200">
                        <span class="text-brand-primary font-bold text-lg">Menu</span>
                        <button onclick="document.getElementById('mobileSidebar').classList.add('hidden')"
                            class="text-gray-500">
                            <i class="fa-solid fa-xmark text-2xl"></i>
                        </button>
                    </div>
                    <nav class="flex-1 py-4 px-2 space-y-1">
                        <!-- Same links as desktop -->
                        <a href="{% url 'custom_admin:dashboard' %}"
                            class="block px-4 py-3 rounded-xl hover:bg-gray-100">Dashboard</a>
                        <a href="{% url 'custom_admin:user_list' %}"
                            class="block px-4 py-3 rounded-xl hover:bg-gray-100">Users</a>
                        <a href="{% url 'custom_admin:listing_list' %}"
                            class="block px-4 py-3 rounded-xl hover:bg-gray-100">Listings</a>
                        <a href="{% url 'custom_admin:booking_list' %}"
                            class="block px-4 py-3 rounded-xl hover:bg-gray-100">Bookings</a>
                        <a href="{% url 'custom_admin:payment_list' %}"
                            class="block px-4 py-3 rounded-xl hover:bg-gray-100">Payments</a>
                        <a href="{% url 'logout' %}"
                            class="block px-4 py-3 rounded-xl text-red-600 hover:bg-red-50">Logout</a>
                    </nav>
                </div>
            </div>

            <!-- Content Area -->
            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6">
                {% if messages %}
                <div class="mb-6">
                    {% for message in messages %}
                    <div
                        class="p-4 rounded-lg shadow-sm mb-2 {% if message.tags == 'success' %}bg-green-100 text-green-800{% elif message.tags == 'error' %}bg-red-100 text-red-800{% else %}bg-blue-100 text-blue-800{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                </div>
                {% endif %}

                {% block content %}{% endblock %}
            </main>
        </div>
    </div>
</body>

</html>